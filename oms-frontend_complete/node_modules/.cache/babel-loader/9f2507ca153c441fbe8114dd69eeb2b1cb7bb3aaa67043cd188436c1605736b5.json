{"ast":null,"code":"import _objectSpread from\"C:/Users/soniy/Documents/oms-frontend_complete/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import api from\"../api/api\";import\"./NewOrder.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function NewOrder(){const[formData,setFormData]=useState({customer:\"\",product:\"\",quantity:1,price:0,status:\"Pending\"});const[total,setTotal]=useState(0);const handleChange=e=>{const{name,value}=e.target;const updatedData=_objectSpread(_objectSpread({},formData),{},{[name]:value});// Recalculate total only if quantity or price changes\nconst quantity=parseInt(updatedData.quantity)||0;const price=parseFloat(updatedData.price)||0;setFormData(updatedData);setTotal(quantity*price);};const handleSubmit=async e=>{e.preventDefault();const order=_objectSpread(_objectSpread({},formData),{},{total,date:new Date().toISOString()});try{await api.post(\"/orders\",order);console.log(\"Order Submitted:\",order);alert(\"✅ Order submitted successfully!\");}catch(error){console.error(\"❌ Failed to submit order:\",error);alert(\"Something went wrong.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create New Order\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"order-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Customer Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"customer\",value:formData.customer,onChange:handleChange,placeholder:\"Enter customer name\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Product Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"product\",value:formData.product,onChange:handleChange,placeholder:\"Enter product name\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Quantity:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"quantity\",value:formData.quantity,min:\"1\",onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Price (per unit):\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",value:formData.price,onChange:handleChange,placeholder:\"Enter price\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Total Amount:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:\"\\u20B9\".concat(total),disabled:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit Order\"})]})]});}export default NewOrder;","map":{"version":3,"names":["React","useState","api","jsx","_jsx","jsxs","_jsxs","NewOrder","formData","setFormData","customer","product","quantity","price","status","total","setTotal","handleChange","e","name","value","target","updatedData","_objectSpread","parseInt","parseFloat","handleSubmit","preventDefault","order","date","Date","toISOString","post","console","log","alert","error","className","children","onSubmit","type","onChange","placeholder","required","min","concat","disabled"],"sources":["C:/Users/soniy/Documents/oms-frontend_complete/src/pages/NewOrder.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport api from \"../api/api\";\r\nimport \"./NewOrder.css\";\r\n\r\nfunction NewOrder() {\r\n  const [formData, setFormData] = useState({\r\n    customer: \"\",\r\n    product: \"\",\r\n    quantity: 1,\r\n    price: 0,\r\n    status: \"Pending\",\r\n  });\r\n\r\n  const [total, setTotal] = useState(0);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    const updatedData = { ...formData, [name]: value };\r\n\r\n    // Recalculate total only if quantity or price changes\r\n    const quantity = parseInt(updatedData.quantity) || 0;\r\n    const price = parseFloat(updatedData.price) || 0;\r\n\r\n    setFormData(updatedData);\r\n    setTotal(quantity * price);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const order = {\r\n      ...formData,\r\n      total,\r\n      date: new Date().toISOString(),\r\n    };\r\n\r\n    try {\r\n      await api.post(\"/orders\", order);\r\n      console.log(\"Order Submitted:\", order);\r\n      alert(\"✅ Order submitted successfully!\");\r\n    } catch (error) {\r\n      console.error(\"❌ Failed to submit order:\", error);\r\n      alert(\"Something went wrong.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <h2>Create New Order</h2>\r\n      <form className=\"order-form\" onSubmit={handleSubmit}>\r\n        <label>\r\n          Customer Name:\r\n          <input\r\n            type=\"text\"\r\n            name=\"customer\"\r\n            value={formData.customer}\r\n            onChange={handleChange}\r\n            placeholder=\"Enter customer name\"\r\n            required\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Product Name:\r\n          <input\r\n            type=\"text\"\r\n            name=\"product\"\r\n            value={formData.product}\r\n            onChange={handleChange}\r\n            placeholder=\"Enter product name\"\r\n            required\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Quantity:\r\n          <input\r\n            type=\"number\"\r\n            name=\"quantity\"\r\n            value={formData.quantity}\r\n            min=\"1\"\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Price (per unit):\r\n          <input\r\n            type=\"number\"\r\n            name=\"price\"\r\n            value={formData.price}\r\n            onChange={handleChange}\r\n            placeholder=\"Enter price\"\r\n            required\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Total Amount:\r\n          <input type=\"text\" value={`₹${total}`} disabled />\r\n        </label>\r\n\r\n        <button type=\"submit\">Submit Order</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewOrder;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}