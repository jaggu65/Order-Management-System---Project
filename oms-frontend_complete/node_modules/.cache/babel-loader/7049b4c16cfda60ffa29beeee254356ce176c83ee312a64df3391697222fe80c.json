{"ast":null,"code":"// src/App.js\nimport React,{useEffect}from\"react\";import{BrowserRouter as Router,Routes,Route,useLocation}from\"react-router-dom\";import WelcomeIntro from\"./pages/WelcomeIntro\";import Sidebar from\"./components/Sidebar\";import Dashboard from\"./pages/Dashboard\";import Orders from\"./pages/Orders\";import Products from\"./pages/Products\";import Customers from\"./pages/Customers\";import Inventory from\"./pages/Inventory\";import Returns from\"./pages/Returns\";import Payments from\"./pages/Payments\";import Integration from\"./pages/Integration\";import Reports from\"./pages/Reports\";import NewOrder from\"./pages/NewOrder\";import Login from\"./pages/Login\";import Register from\"./pages/Register\";import PrivateRoute from\"./PrivateRoute\";import AddProduct from\"./pages/AddProduct\";import AddCustomer from\"./pages/AddCustomer\";import AddReturn from\"./pages/AddReturn\";import AddPayment from\"./pages/AddPayment\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Layout(){const location=useLocation();// ✅ Hide sidebar for login, register, and welcome routes\nconst hideSidebar=[\"/login\",\"/register\",\"/welcome\"].includes(location.pathname);useEffect(()=>{const timeout=setTimeout(()=>{localStorage.removeItem(\"loggedIn\");localStorage.removeItem(\"userRole\");window.location.href=\"/login\";},3600000);// 1 hour\nreturn()=>clearTimeout(timeout);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[!hideSidebar&&/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/welcome\",element:/*#__PURE__*/_jsx(WelcomeIntro,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/orders\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Orders,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/orders/new\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(NewOrder,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/products\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Products,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/products/new\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(AddProduct,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/customers\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Customers,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/customers/add\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(AddCustomer,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/inventory\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Inventory,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/returns\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Returns,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/returns/add\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(AddReturn,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/payments\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Payments,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/payment/add\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(AddPayment,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/integration\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Integration,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/reports\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Reports,{})})})]})})]});}function App(){return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(Layout,{})});}export default App;","map":{"version":3,"names":["React","useEffect","BrowserRouter","Router","Routes","Route","useLocation","WelcomeIntro","Sidebar","Dashboard","Orders","Products","Customers","Inventory","Returns","Payments","Integration","Reports","NewOrder","Login","Register","PrivateRoute","AddProduct","AddCustomer","AddReturn","AddPayment","jsx","_jsx","jsxs","_jsxs","Layout","location","hideSidebar","includes","pathname","timeout","setTimeout","localStorage","removeItem","window","href","clearTimeout","className","children","path","element","App"],"sources":["C:/Users/soniy/Documents/oms-frontend_complete/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useEffect } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  useLocation\n} from \"react-router-dom\";\nimport WelcomeIntro from \"./pages/WelcomeIntro\";\nimport Sidebar from \"./components/Sidebar\";\nimport Dashboard from \"./pages/Dashboard\";\nimport Orders from \"./pages/Orders\";\nimport Products from \"./pages/Products\";\nimport Customers from \"./pages/Customers\";\nimport Inventory from \"./pages/Inventory\";\nimport Returns from \"./pages/Returns\";\nimport Payments from \"./pages/Payments\";\nimport Integration from \"./pages/Integration\";\nimport Reports from \"./pages/Reports\";\nimport NewOrder from \"./pages/NewOrder\";\nimport Login from \"./pages/Login\";\nimport Register from \"./pages/Register\";\nimport PrivateRoute from \"./PrivateRoute\";\n\nimport AddProduct from \"./pages/AddProduct\";\nimport AddCustomer from \"./pages/AddCustomer\";\nimport AddReturn from \"./pages/AddReturn\";\nimport AddPayment from \"./pages/AddPayment\";\n\nimport \"./App.css\";\n\nfunction Layout() {\n  const location = useLocation();\n\n  // ✅ Hide sidebar for login, register, and welcome routes\n  const hideSidebar = [\"/login\", \"/register\", \"/welcome\"].includes(location.pathname);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      localStorage.removeItem(\"loggedIn\");\n      localStorage.removeItem(\"userRole\");\n      window.location.href = \"/login\";\n    }, 3600000); // 1 hour\n\n    return () => clearTimeout(timeout);\n  }, []);\n\n  return (\n    <div className=\"app-container\">\n      {!hideSidebar && <Sidebar />}\n      <div className=\"main-content\">\n        <Routes>\n          {/* Public Routes */}\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/register\" element={<Register />} />\n          <Route path=\"/welcome\" element={<WelcomeIntro />} />\n          <Route path=\"/dashboard\" element={<PrivateRoute><Dashboard /></PrivateRoute>} />\n\n          {/* Protected Routes */}\n          <Route path=\"/\" element={<PrivateRoute><Dashboard /></PrivateRoute>} />\n          <Route path=\"/orders\" element={<PrivateRoute><Orders /></PrivateRoute>} />\n          <Route path=\"/orders/new\" element={<PrivateRoute><NewOrder /></PrivateRoute>} />\n          <Route path=\"/products\" element={<PrivateRoute><Products /></PrivateRoute>} />\n          <Route path=\"/products/new\" element={<PrivateRoute><AddProduct /></PrivateRoute>} />\n          <Route path=\"/customers\" element={<PrivateRoute><Customers /></PrivateRoute>} />\n          <Route path=\"/customers/add\" element={<PrivateRoute><AddCustomer /></PrivateRoute>} />\n          <Route path=\"/inventory\" element={<PrivateRoute><Inventory /></PrivateRoute>} />\n          <Route path=\"/returns\" element={<PrivateRoute><Returns /></PrivateRoute>} />\n          <Route path=\"/returns/add\" element={<PrivateRoute><AddReturn /></PrivateRoute>} />\n          <Route path=\"/payments\" element={<PrivateRoute><Payments /></PrivateRoute>} />\n          <Route path=\"/payment/add\" element={<PrivateRoute><AddPayment /></PrivateRoute>} />\n          <Route path=\"/integration\" element={<PrivateRoute><Integration /></PrivateRoute>} />\n          <Route path=\"/reports\" element={<PrivateRoute><Reports /></PrivateRoute>} />\n        </Routes>\n      </div>\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <Router>\n      <Layout />\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}