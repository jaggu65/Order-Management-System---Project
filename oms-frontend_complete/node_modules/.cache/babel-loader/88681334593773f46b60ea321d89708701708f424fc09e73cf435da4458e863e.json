{"ast":null,"code":"import React from\"react\";import{Navigate,useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";const PrivateRoute=_ref=>{let{children,role}=_ref;const isLoggedIn=localStorage.getItem(\"loggedIn\")===\"true\";const userRole=localStorage.getItem(\"userRole\");const location=useLocation();if(!isLoggedIn){// Redirect to login and preserve attempted path\nreturn/*#__PURE__*/_jsx(Navigate,{to:\"/login\",state:{from:location},replace:true});}if(role&&userRole!==role){return/*#__PURE__*/_jsx(Navigate,{to:\"/unauthorized\",replace:true});}return children;};export default PrivateRoute;","map":{"version":3,"names":["React","Navigate","useLocation","jsx","_jsx","PrivateRoute","_ref","children","role","isLoggedIn","localStorage","getItem","userRole","location","to","state","from","replace"],"sources":["C:/Users/soniy/Documents/oms-frontend_complete/src/PrivateRoute.js"],"sourcesContent":["import React from \"react\";\r\nimport { Navigate, useLocation } from \"react-router-dom\";\r\n\r\nconst PrivateRoute = ({ children, role }) => {\r\n  const isLoggedIn = localStorage.getItem(\"loggedIn\") === \"true\";\r\n  const userRole = localStorage.getItem(\"userRole\");\r\n  const location = useLocation();\r\n\r\n  if (!isLoggedIn) {\r\n    // Redirect to login and preserve attempted path\r\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\r\n  }\r\n\r\n  if (role && userRole !== role) {\r\n    return <Navigate to=\"/unauthorized\" replace />;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default PrivateRoute;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEzD,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAAwB,IAAvB,CAAEC,QAAQ,CAAEC,IAAK,CAAC,CAAAF,IAAA,CACtC,KAAM,CAAAG,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,GAAK,MAAM,CAC9D,KAAM,CAAAC,QAAQ,CAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CACjD,KAAM,CAAAE,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9B,GAAI,CAACO,UAAU,CAAE,CACf;AACA,mBAAOL,IAAA,CAACH,QAAQ,EAACa,EAAE,CAAC,QAAQ,CAACC,KAAK,CAAE,CAAEC,IAAI,CAAEH,QAAS,CAAE,CAACI,OAAO,MAAE,CAAC,CACpE,CAEA,GAAIT,IAAI,EAAII,QAAQ,GAAKJ,IAAI,CAAE,CAC7B,mBAAOJ,IAAA,CAACH,QAAQ,EAACa,EAAE,CAAC,eAAe,CAACG,OAAO,MAAE,CAAC,CAChD,CAEA,MAAO,CAAAV,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}